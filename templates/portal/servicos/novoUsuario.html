<div class="row">
    <div class="col-lg-12">
        <div class="page-header">
            <div class="pull-right">
                                <img src="img/icones/servicos.png" />
                            </div>
            <h2>Cadastro de Novo Usuário</h2>
        </div>
        <div class="panel panel-default">         
          <div class="panel-body">               
<form role="form" method="post" action="portal_servicos-action" id="frmEditUsuario" enctype="multipart/form-data" autocomplete="off">
    <div class="box box-primary">
        <div class="box-header">
            <h3 class="box-title">{LABEL}</h3>
        </div>
        <div class="box-body">

            <input type="hidden" name="id" id="id" value="{id}"/>
            <input type="hidden" name="acao" value="{ACAO}"/>
            
            <div class="row">
                <div class="col-md-6 col-xs-12">
                    <div class="form-group">
                        <label for="nome"><i class='fa'></i><b>Nome</b></label>
                        <input type="text" id="nome" name="nome" placeholder="Nome" value="{nome}" class="required form-control"/>
                    </div>
                </div>
                    <div class="col-md-6 col-xs-12">

                    <div class="form-group">
                        <label for="cpf"><i class='fa'></i><b>CPF/CNPJ</b></label>
                        <input type="text" id="cpf" name="cpf" placeholder="CPF" value="{cpf}" class="required cpfcnpj form-control"/>
                    </div>

                </div>

                </div>

                
               
            <div class="row">
                <div class="col-md-6 col-xs-12">
                    <div class="form-group">
                        <label for="telefone"><i class='fa'></i><b>Telefone</b></label>
                        <input type="text" id="telefone" name="telefone" placeholder="Telefone fixo" value="{telefone}" class="form-control" data-inputmask='"mask": "(99) 9999-99999"' data-mask/>
                    </div>
                </div>
                <div class="col-md-6 col-xs-12">
                    <div class="form-group">
                        <label for="celular"><i class='fa'></i><b>Celular</b></label>
                        <input type="text" id="celular" name="celular" placeholder="Celular" value="{celular}" class="required form-control" data-inputmask='"mask": "(99) 9999-99999"' data-mask/>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 col-xs-12">
                    <div class="form-group">
                        <label for="email"><i class='fa'></i><b>E-mail</b></label>
                        <input type="text" id="email" name="email" placeholder="E-mail" value="{email}" class=" required form-control email" autocomplete="off"/>
                    </div>
                </div>
                <div class="col-md-6 col-xs-12">
                    <div class="form-group">
                        <label for="email2"><i class='fa'></i><b>Confirmação de E-mail</b></label>
                        <input type="text" id="email2" name="email2" placeholder="E-mail Confirmar" value="{email}" class=" required form-control email" autocomplete="off"/>
                    </div>
                </div>

            </div>
            <div class="row">               
                <div class="col-md-6 col-xs-12">
                    <div class="form-group">
                        <label for="foto"><i class='fa'></i><b>Foto</b></label><br/>
                        <input type="file"  name="foto" id="foto"/>
                    </div>
                </div>
                <div class="col-md-6 col-xs-12">
                    <div class="form-group">
                        <label for="perfil"><i class='fa'></i><b>Perfil</b></label>
                        <select name="perfil" id="perfil" class="required form-control">
                            <option value="">Selecione</option>
                            <option value="2">Professor</option>
                            <option value="3">Aluno</option>
                        </select>
                    </div>
                </div>
                
            </div>
           

        </div>
        <div class="box-footer text-center">
            <button class="btn btn-success" type="submit">
                Salvar
            </button>
            <a class="btn btn-default btVoltar" href="portal_servicos">
                Voltar
            </a>
        </div>

    </div>
</form>

            
          </div>
        </div>
        
       
        
    </div>
</div>
<script>
    $(document).ready(function() {
        
        $("#cpf").inputmask({ mask: ["999.999.999-99","99.999.999/9999-99"] });
        $("#telefone").inputmask("(99) 9999-9999 9");
        $("#celular").inputmask("(99) 9999-9999 9");
        $("#foto").fileinput({                 
            overwriteInitial: true,
            maxFileSize: 2000,
            maxFilesNum: 1,
            allowedFileExtensions: ["jpg", "jpeg", "gif", "png"],
            previewClass: "bg-warning",
            allowedFileTypes: ["image"],
            showUpload: false,
            showCaption: false
        });


       

        $("#frmEditUsuario").validate({
            errorClass : "help-inline",
            errorElement : "div",
            highlight : function(element, errorClass, validClass) {
                $(element).parents('.form-group').addClass('has-error');
                $(element).parents('.form-group').children("label").children("i").addClass("fa-times-circle-o");
            },
            unhighlight : function(element, errorClass, validClass) {
                $(element).parents('.form-group').removeClass('has-error');
                $(element).parents('.form-group').addClass('has-success');
                $(element).parents('.form-group').children("label").children("i").removeClass("fa-times-circle-o");
                $(element).parents('.form-group').children("label").children("i").addClass("fa-check");
            },
            rules : {
                email2 : {
                    equalTo : '[name="email"]'
                },
                telefone: {
                required: function() {
                    return $("#celular").val() == "";
                }               
                
                },
                celular: {
                required: function() {
                    return $("#telefone").val() == "";
                }    
                },  
                email: {
                required: true,
                remote: {
                            url: "ajax/usuario_verificaLogin.php?idUser="+$("#id").val()+"&login=1"+$("#email").val(),
                            type: "get",
                            }
                }
                },
                messages: {
                    email: {
                    remote: "E-mail já existe no sistema"
                    }
                }
        });
        
    });
</script>
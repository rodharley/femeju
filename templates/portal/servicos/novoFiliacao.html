<div class="row">
    <div class="col-lg-12">
        <div class="page-header">
            <h2>Ficha de Inscrição</h2>
        </div>
        <div class="panel panel-default">
            <div class="panel-body">
                <form role="form" method="post" action="portal_servicos-action" id="frmFiliacao" enctype="multipart/form-data">
                    <input type="hidden" name="acao" id="acao" value="filiar" />
                    <div class="box box-primary">
                        <div class="box-header">
                            <h3 class="box-title">Dados Pessoais</h3>
                        </div>
                        <div class="box-body">
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-xs-12">
                                    <div class="form-group">
                                        <label for="instrutor"><i class='fa'></i><b>É instrutor?</b></label>
                                        <br/>
                                        <input type="radio" name="einstrutor" value="1" >
                                        Sim &nbsp;&nbsp;
                                        <input type="radio" name="einstrutor" value="0" checked="checked">
                                        Não
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6 col-md-12 col-xs-12">
                                    <div class="form-group">
                                        <label for="nome"><i class='fa'></i><b>Nome</b></label>
                                        <input type="text" id="nome" name="nome" placeholder="Nome do atleta" value="" class="form-control required"/>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-12 col-xs-12">
                                    <div class="form-group">
                                        <label for="sobrenome"><i class='fa'></i><b>Sobrenome</b></label>
                                        <input type="text" id="sobrenome" name="sobrenome" placeholder="Sobrenome do atleta" value="" class="form-control required"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6 col-md-12 col-xs-12">
                                    <div class="form-group">
                                        <label for="nomePai"><i class='fa'></i><b>Nome do Pai</b></label>
                                        <input type="text" id="nomePai" name="nomePai" placeholder="Nome do pai do atleta" value="" class="form-control required"/>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-12 col-xs-12">
                                    <div class="form-group">
                                        <label for="nomeMae"><i class='fa'></i><b>Nome da Mãe</b></label>
                                        <input type="text" id="nomeMae" name="nomeMae" placeholder="nome da mãe do atleta" value="" class="form-control required"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-4 col-md-12 col-xs-12">
                                    <div class="form-group">
                                        <label for="email"><i class='fa'></i><b>E-mail</b></label>
                                        <input type="text" id="email" name="email" placeholder="E-mail" value="" class="form-control required email"/>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-12 col-xs-12">
                                    <div class="form-group">
                                        <label for="sexo"><i class='fa'></i><b>Sexo</b></label>
                                        <select class="form-control required" id="sexo" name="sexo">
                                            <option value="" selected="selected">Selecione</option>
                                            <option value="F">Feminino</option>
                                            <option value="M">Masculino</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-12 col-xs-12">
                                    <div class="form-group">
                                        <label for="dataNascimento"><i class='fa'></i><b>Data de Nascimento</b></label>
                                        <input type="text" id="dataNascimento" name="dataNascimento" placeholder="Data de Nascimento" value="" class="form-control required"/>
                                    </div>
                                </div>
                            </div>
                            <fieldset>
                                <legend>
                                    Local de Nascimento
                                </legend>
                                <div class="row">
                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="ufNascimento"><i class='fa'></i><b>UF</b></label>
                                            <select class="form-control required" id="ufNascimento" name="ufNascimento">
                                                <option value="">Selecione</option>
                                                <!-- BEGIN BLOCK_UF1 -->
                                                <option value="{idUf}">{lblUf}</option>
                                                <!-- END BLOCK_UF1 -->
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-lg-8 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="cidadeNascimento"><i class='fa'></i><b>Cidade</b></label>
                                            <select class="form-control required" id="cidadeNascimento" name="cidadeNascimento"></select>
                                        </div>
                                    </div>

                                </div>
                            </fieldset>

                            <fieldset>
                                <legend>
                                    Endereço
                                </legend>
                                <div class="row">
                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="localidade"><i class='fa'></i><b>Localidade</b></label>
                                            <input type="text" id="localidade" name="localidade" placeholder="Localidade (Logradouro)" value="" class="form-control required"/>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="bairro"><i class='fa'></i><b>Bairro</b></label>
                                            <input type="text" id="bairro" name="bairro" placeholder="Bairro" value="" class="form-control required"/>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="cep"><i class='fa'></i><b>CEP</b></label>
                                            <input type="text" id="cep" name="cep" placeholder="CEP" value="" class="form-control required"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="uf"><i class='fa'></i><b>UF</b></label>
                                            <select class="form-control required" id="uf" name="uf">
                                                <option value="">Selecione</option>
                                                <!-- BEGIN BLOCK_UF2 -->
                                                <option value="{idUf}">{lblUf}</option>
                                                <!-- END BLOCK_UF2 -->
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-lg-8 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="cidade"><i class='fa'></i><b>Cidade</b></label>
                                            <select class="form-control required" id="cidade" name="cidade"></select>
                                        </div>
                                    </div>

                                </div>
                            </fieldset>
                            <fieldset>
                                <legend>
                                    Telefones
                                </legend>
                                <div class="row">
                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="residencial"><i class='fa'></i><b>Residencial</b></label>
                                            <input type="text" id="residencial" name="residencial" placeholder="Telefone Residencial" value="" class="form-control required"/>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="comercial"><i class='fa'></i><b>Comercial</b></label>
                                            <input type="text" id="comercial" name="comercial" placeholder="Telefone Comercial" value="" class="form-control"/>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="celular"><i class='fa'></i><b>Celular</b></label>
                                            <input type="text" id="celular" name="celular" placeholder="Telefone Celular" value="" class="form-control required"/>
                                        </div>
                                    </div>
                                </div>

                            </fieldset>
                            <fieldset>
                                <legend>
                                    Documentos
                                </legend>
                                <div class="row">
                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="cpf"><i class='fa'></i><b>CPF</b></label>
                                            <input type="text" id="cpf" name="cpf" placeholder="CPF" value="" class="form-control required cpf"/>
                                        </div>
                                    </div>

                                </div>
                                <div class="row">
                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="rg"><i class='fa'></i><b>R.G.</b></label>
                                            <input type="text" id="rg" name="rg" placeholder="Identidade Registro Geral" value="" class="form-control required"/>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="Local"><i class='fa'></i><b>Orgão Expedidor</b></label>
                                            <input type="text" id="rgLocal" name="rgLocal" placeholder="Orgão e Local de Expedição" value="" class="form-control required"/>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="rgDataExpedicao"><i class='fa'></i><b>Data de Expedição</b></label>
                                            <input type="text" id="rgDataExpedicao" name="rgDataExpedicao" placeholder="Data de Expedição" value="" class="form-control required"/>
                                        </div>
                                    </div>
                                </div>

                            </fieldset>

                            <fieldset>
                                <legend>
                                    Dados da Academia
                                </legend>
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 col-xs-12">
                                        <input type="hidden" id="idAcademia" name="idAcademia" value="0" class="required"/>
                                        <div class="form-group">
                                            <label for="nomeAcademia"><i class='fa'></i><b>Nome da Academia</b></label>
                                            <input type="text" id="nomeAcademia" name="nomeAcademia" placeholder="Nome da Academia que treina" value="" class="form-control required"/>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-xs-12">
                                        <div class="form-group">
                                            <label for="registroAcademia"><i class='fa'></i><b>Registro</b></label>
                                            <input type="text" id="registroAcademia" name="registroAcademia" placeholder="Número do Registro" value="" class="form-control required"/>
                                        </div>
                                    </div>
                                </div>
                                 <div class="row">
                                    <div class="col-lg-6 col-md-6 col-xs-12">
                                        <div class="form-group">
                                            <label for="logradouroAcademia"><i class='fa'></i><b>Logradouro</b></label>
                                            <input type="text" id="logradouroAcademia" name="logradouroAcademia" placeholder="Logradouro" value="" class="form-control required"/>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-xs-12">
                                        <div class="form-group">
                                            <label for="bairroAcademia"><i class='fa'></i><b>Bairro</b></label>
                                            <input type="text" id="bairroAcademia" name="bairroAcademia" placeholder="Bairro" value="" class="form-control required"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="ufAcademia"><i class='fa'></i><b>UF</b></label>
                                            <select class="form-control required" id="ufAcademia" name="ufAcademia">
                                                <option value="">Selecione</option>
                                                <!-- BEGIN BLOCK_UF3 -->
                                                <option value="{idUf}">{lblUf}</option>
                                                <!-- END BLOCK_UF3 -->
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-lg-8 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="cidadeAcademia"><i class='fa'></i><b>Cidade</b></label>
                                            <select class="form-control required" id="cidadeAcademia" name="cidadeAcademia"></select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 col-xs-12">
                                        <div class="form-group">
                                            <label for="cepAcademia"><i class='fa'></i><b>CEP</b></label>
                                            <input type="text" id="cepAcademia" name="cepAcademia" placeholder="CEP" value="" class="form-control"/>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-xs-12">
                                        <div class="form-group">
                                            <label for="telefoneAcademia"><i class='fa'></i><b>Telefone</b></label>
                                            <input type="text" id="telefoneAcademia" name="telefoneAcademia" placeholder="Telefone" value="" class="form-control required"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="instrutor"><i class='fa'></i><b>Instrutor</b></label>
                                            <select class="form-control" id="instrutor" name="instrutor">
                                                 <option value="">Selecione</option>
                                                 <!-- BEGIN BLOCK_INSTRUTOR -->
                                                 <option value="{ID_INSTRUTOR}">{NOME_INSTRUTOR}</option>
                                                 <!-- END BLOCK_INSTRUTOR -->
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                            <fieldset>
                                <legend>
                                    Foto do Atleta
                                </legend>
                                <div class="row">
                                    <div class="col-md-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="foto"><i class='fa'></i><b>Foto</b></label>
                                            <input type="file"  name="foto" id="foto"/>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                        <div class="panel-footer text-right">
                            <button class="btn btn-success" type="submit" id="btPesquisar">
                                Salvar
                            </button>
                            <button class="btn btn-default btVoltar" type="button">
                                Voltar
                            </button>
                        </div>

                    </div>

                </form>
            </div>
        </div>
    </div>
</div>
<script>
	$(document).ready(function() {
        
    var academiaTags = [
      <!-- BEGIN BLOCK_ACADEMIAS -->"{NOMEACADEMIA}",<!-- END BLOCK_ACADEMIAS -->      
    ];
   
    $("#nomeAcademia").autocomplete({
      source: academiaTags,           
    });
       
    $("#nomeAcademia").change(
       function() {         
          $.ajax({
              url:'ajax/json_academiaPorNome.php',
              data:{nome:$("#nomeAcademia").val()},
              dataType:"json"             
          }).done(function(data){
              if(data.id != ""){
              $("#registroAcademia").val(data.registro);
              $("#idAcademia").val(data.id);
              $("#logradouroAcademia").val(data.logradouro);
              $("#bairroAcademia").val(data.bairro);              
              $("#nomeAcademia").val(data.nome);
              $("#cepAcademia").val(data.cep);
              $("#telefoneAcademia").val(data.telComercial);
              $("#ufAcademia").val(data.cidade.uf.id);
              
              for (var k in data.cidades) {
                if(data.cidades[k].id == data.cidade.id){
                    $("#cidadeAcademia").html($("#cidadeAcademia").html()+"<option value='"+data.cidades[k].id+"' selected='selected'>"+data.cidades[k].nome+"</option>");
                }else{
                    $("#cidadeAcademia").html($("#cidadeAcademia").html()+"<option value='"+data.cidades[k].id+"'>"+data.cidades[k].nome+"</option>");
                }
                }
               }else{
                  $("#registroAcademia").val("");
                  $("#idAcademia").val("0");
                  $("#logradouroAcademia").val("");
                  $("#bairroAcademia").val("");              
                  $("#cepAcademia").val("");
                  $("#telefoneAcademia").val("");
                  $("#ufAcademia").val("");
                  $("#cidadeAcademia").html(""); 
               }
              
              
              
          });
          
          
          
      }  
        
    );   
		
		$('#dataNascimento').datepicker();
		$('#rgDataExpedicao').datepicker();
		$('#cpf').inputmask({
			mask : "999.999.999-99"
		});
		$('#cep').inputmask({
			mask : "99.999-999"
		});
		$('#cepAcademia').inputmask({
            mask : "99.999-999"
        });
		$('#residencial').inputmask({
			mask : "(99) 9999-99999"
		});
		$('#telefoneAcademia').inputmask({
            mask : "(99) 9999-99999"
        });
		$('#comercial').inputmask({
			mask : "(99) 9999-99999"
		});
		$('#celular').inputmask({
			mask : "(99) 9999-99999"
		});

		$("#uf").change(function() {
			$.ajax({
				url : "ajax/cidadesPorUf.php",
				type : "POST",
				data : {
					uf : $(this).val()
				},
				dataType : "html"
			}).done(function(msg) {
				$("#cidade").html(msg);
			});

		});

		$("#ufNascimento").change(function() {
			$.ajax({
				url : "ajax/cidadesPorUf.php",
				type : "POST",
				data : {
					uf : $(this).val()
				},
				dataType : "html"
			}).done(function(msg) {
				$("#cidadeNascimento").html(msg);
			});

		});
		
		$("#ufAcademia").change(function() {
            $.ajax({
                url : "ajax/cidadesPorUf.php",
                type : "POST",
                data : {
                    uf : $(this).val()
                },
                dataType : "html"
            }).done(function(msg) {
                $("#cidadeAcademia").html(msg);
            });

        });

		$("#foto").fileinput({
			overwriteInitial : true,
			maxFileSize : 2000,
			maxFilesNum : 1,
			allowedFileExtensions : ["jpg", "jpeg", "gif", "png"],
			previewClass : "bg-warning",
			allowedFileTypes : ["image"],
			showUpload : false,
			showCaption : false
		});
		
		$("#frmFiliacao").validate({
            errorClass : "help-inline",
            errorElement : "div",
            highlight : function(element, errorClass, validClass) {
                $(element).parents('.form-group').addClass('has-error');
                $(element).parents('.form-group').children("label").children("i").addClass("fa-times-circle-o");
            },
            unhighlight : function(element, errorClass, validClass) {
                $(element).parents('.form-group').removeClass('has-error');
                $(element).parents('.form-group').addClass('has-success');
                $(element).parents('.form-group').children("label").children("i").removeClass("fa-times-circle-o");
                $(element).parents('.form-group').children("label").children("i").addClass("fa-check");
            },
            rules : {
                telefone: {
                required: function() {
                    return $("#celular").val() == "";
                }               
                
                },
                celular: {
                required: function() {
                    return $("#residencial").val() == "";
                }    
                }
                },
                messages: {                    
                }
        });

	}); 
</script>